### 第二章 数据描述: 频率分布和图形表示

#### 学习目标
  通过本章学习，你应该能够:
  1. 掌握频数分布组织数据
  2. 通过直方图、频数折线图和累积频数折线图来描述频率分布
  3. 发展和解释茎叶图
  4. 用线图、条形图和饼形图来展示数据

#### 引言
  Rob是位于A公司的Boss. Rob的父亲在1964年创建了这家公司，在30多年里他们专门销售产品X. 20世纪90年代，Rob父亲健康状况堪忧，Rob接管了更多处理企业日常运作问题的工作。与此同时，汽车业开始发生变革(商人们开始从一些制造商那里出售汽车)， Rob面临者一些重大问题的决策。当另一个经营Volvos汽车，Saabs汽车和大众汽车的本地商人与Rob接洽有关收购自己企业的事情时，第一个重大的决策来临了。经过大量的分析和思考，Rob收购了那家企业。再往后，当地的Jeep Eagle陷入了困境，Rob也把它收购了。所以现在在这个地方，Rob出售本公司原油的所有系列产品以及流行的Jeep系列。A公司雇佣了83名员工，其中23名为全职销售人员。由于产品品种的多样化，汽车的售价也有很大变动。顶级的Volvos汽车的售价比其公司的Am级别的2倍还多。Rob想要使用一些图表和图形，以便每月都能从中找出售价趋向的焦点、售价的变动程度和每项产品售价的走势。在本章中，我们将对Rob或像他一样管理企业的人士提出具有实用价值的计数方法。

#### 构造频数分布
  回想一下，我们在第一章中，我们把用来描述数据集的方法成为描述统计方法。换句话说，我们用各种各样的方法描述、组织数据，之处数据值趋向于集中到那一点，饼帮助辨认最大值和最小值。我们用来描述一个数据集的第一个程序就是频数分布(frequency distribution).
> 频数分布 把一组数据分到互不包含的组里以显示各组中观察值的个数。

  我们怎样才能获得频数分布呢? 第一步是把数据记录到一张显示各组和魅族观察值个数的表里，举一个例子就能更好说明构造频数分布的步骤。记住，我们的目标是构造一张能迅速揭示数据分布形态的表格。
  
> 例子 在引言中，我们举了一个案例，A公司的企业主Rob想搜集他的企业销售车辆的售价信息。典型的售价是多少? 最高价是多少? 最低价是多少? 价格趋向于哪个数值周围？ 为了回答这些问题，我们需要搜集数据。根据销售记录，某月A公司卖出了80辆车。购买者支付的每辆车的价格见下标。总结上月所售的销售价格，销售集中到哪个值周围?

  ![](https://github.com/walkerqiao/walkman/blob/master/images/da/bizzstat_frequency_pandiyake.png)
  
  解: 我们把这种未经整理的数据称为原始数据或未分组数据。稍微搜索一下，可以找到最低价和最高价，但是要确定典型售价比较困难，要看出首先趋向于集中到哪个数值也是困难的。如果用频数分布表示出来，原始数据将更便于解释。
  
  第一步： 确定组的个数
  这一步的目标是用恰好足够的群或组来揭示数据分布的形状，这里一些判断是必要的。太多或太少的组都不能揭示数据集的形状。比如分成三组，就不能对数据的分布形状有多少了解。
  
  确定组数的一个有用法则是"2的k次方法则"。这个法则建议你选择使用2^k大于观察值个数n的最小值k作为组的个数。
  
  在A公司的案例中，卖出了80辆汽车，所以n=80, 如果我们假设k=6, 则意味着将分成6组，则2^6=64, 比80稍微小一点，因此6不是足够的shuzu。如果我们令k=7, 则2^7=128, 大于80， 所以推荐的组数为7.
  
  第二步， 确定组距或组宽 一般地， 所有各族地组距或组宽都应该是相同的，所有组加起来必须至少覆盖从最小值到最大值的距离。所以以上文字表示为公式就是:
  ![](https://github.com/walkerqiao/walkman/blob/master/images/da/bizzstat_frequency_group_width.png)
  
  在A公司中，最小值为12 546美元，最大值是32 925美元。如果我们需要分7组，组距至少应是(32 925 - 12546) / 7 = 2 911。在实际中，组距大小通常四舍五入到某个渐变的整数，比如10， 100的倍数。在这个案例中，最好使用3000作为组距。
  
  在用图形描述分布和我们在后面章节将看到的一些计算中，提出了不等组距的问题。然而，不等组距在避免大量全空或几乎全空组的场合下是必须的。
  
  第三步： 确定各组的组限 设定清楚组限以便你可以把每个观察值只归入一个组，这意味着你必须避免重叠或者不清楚的组限。距离来说，像1300~1400和1400~1500美元这样的组是不应该使用的。因为1400美元是在第一组还是在第二组是不清楚的。表述称1300～1400美元和1500美元~1600美元的组经常使用，但如果没有附加的共同惯例(即把所有大于等于1450美元的数据四舍五入到第二组，把小于1450美元的数据四舍五入到第一组)这种分组也是令人迷惑的。在本书中，我们使用1300~1400, 1400~1500, 而1399分到第一组，1400分到第二组。
  
  由于我们把组距四舍五入得到简便的组距大小，所以我们覆盖了比需要的范围要大的范围。举例来说，在A公司案例中，7个组宽度为3000美元的组覆盖了7(3000~21000)美元的范围，实际的范围是20379， 由 32925 － 12546得到。比较这个只和21000美元，多处了621美元。因为我们需要覆盖的只是举例H-L. 因此，在组的末端每段加上多处的近似相等的数额是自然的。当然，我们应该选择简便的10的倍数作为组限。因此这个例子中，我们可以选用的组如下。
```
  13 000 ~ 15 000
  15 000 ~ 18 000
  18 000 ~ 21 000
  21 000 ~ 24 000
  24 000 ~ 27 000
  27 000 ~ 30 000
  30 000 ~ 33 000
```
  第四步: 把车辆售价计入各组中 首先， 表2-1中的第一辆售价是20 197， 他被计入18 000~21 000美元这一组。依次类推。 每组的售价列表就出来了。
  
  第五步: 数组每组的项目数: 每组中观察值的个数称作组频(class frequency). 整个数据集合中总的观察值个数或频数就是总数80.
  
  上面的方法把售价信息整理成频数分布确实导致了一些详细信息的损失。也就是说，把数据整理成频数分布，我们就不能找出精确的售价，比如最低价和最高价， 然而第一组的下接实质上表达了同样的意思。 
  
  把数据压缩成易于理解的形式，它的优点远远抵消了这个缺点。

  组距和组中值
  我们经常使用另外两个术语: 组中值(class midpoint), 和组距(class interval). 组中值也称为组记(class mark), 是相邻两个组下限的中值，她可以由把组下限和组上限相加求和再除以2计算得到。
  
  组距 = (某个组的上限 - 某个组的下限) / 2
  组中值 ＝ (某个组的上限 ＋ 某个组的下限) / 2
  组距 = (后一个组的组中值 － 前一个组的组中值)

#### 相对频数分布
  相对频数分布把频数转化为百分数
  为了显示每一组占观测值总数的百分数，通常要求把每组频数转化成相对每组频率(relative class frequency). 在上述车辆销售的例子中，我们可能想知道价格在18 000 ~ 21 000美元的车辆的百分数； 在另一个研究中，我们可能想知道由于生病每年缺勤1～3天的雇员人数百分比。

#### 茎叶图
  在前面的章节中，我们展示了如何把数据组织成频数分布， 因此我们能把原始数据概括成一张有意义的图表。 把数据组织成频数分布的主要优点，就是不用更多的计算我们便能很快得到清晰的分布形状。 也就是说， 我们技能知道数据集中在哪个值，也能知道是否由极大值与极小值。 然而，把数据组织成频数分布的也有两个缺点:
  1. 我们失去了每一个真实值
  2. 我们不清楚在每一组里数据中是怎样分布的。
  
  茎叶图(stem-and-leaf display)是一种表现数据信息的简练图表。 茎叶图优于频数分布图的一点是， 每一个观测值的具体数值都没有丢失。在上一个例子中，我们不知道90~100这组数据的真实值。为了说明茎叶图的构成，我们以购买广告的数量为例。假设在90~100这组里边有7个观察值是96, 94, 93, 94, 95, 96, 97. 茎(stem)的值是最前面的数字，在本例中是9；叶(leaf)的值是尾随的数字。茎的值放在一条竖线的左边，叶的值放在竖线右边。

  90~100这一组数据就写作:
```
----------------------------------------
9   |   6   4   3   4   5   6   7
----------------------------------------
```
  最后，我们把一个茎叶图的数字按从小到大的顺序排列。 这样，茎叶图的第2行就变成
```
----------------------------------------
9   |   3   4   4   5   6   6   7
----------------------------------------
```
  通过茎叶图，我们便能迅速观察到有两家经销商购买了94则广告，并且广告的数量范围是从93~97. 茎叶图与频数分布相类似，但包含了更多的信息。也就是说，数值代替了计数。
  
> 茎叶图 表现一组数据的统计方法。 每一个数值被分成两部分，领头的数字作为茎， 尾随的数字作为叶。 茎沿竖直轴线排列， 叶沿水平轴线排列。

  下面将详细说明如何做茎叶图。
```
  1   2   3     4   5   6   7   8     9  10   11  12
-----------------------------------------------------
 96   93  88  117 127  95  113  95  103  94  148  156
139  142  94  107 125 155  155 103  112 127  117  120
112  135 132  111 125 104  106 139  134 119   97   89
118  136 125  143 120 103  113 124  138
```
  从上表可知道，最小值为88， 最大值为156， 因此让茎的值从8开始，一直到15. 
```
茎          叶
0-----1   2   3   4   5   6   7   8  9
----------------------------------------------
 8  | 8   9
 9  | 6   3   5   5   4   4   7
10  | 3   7   3   4   6   3
11  | 7   3   2   7   2   1   9   8  3
12  | 7   5   7   0   5   5   0   4
13  | 9   5   2   9   4   6   8
14  | 8   2   3
15  | 6   5   5
----------------------------------------------
```
  然后对叶子部分排序。
  
  其实可以通过先排序，然后在做茎叶图。
  根据排序好的茎叶图，可以得出一些结论。
  * 购买广告数量最少的是88
  * 最多的是156
  * 2家购买商购买的广告数少于90
  * 三家购买商购买的广告数多于150
  * 有9家购买商购买了110～119则广告
  * 广告购买数量集中在110～130
  * ...

#### 频数分布的图形表示

#### 错误的图形

#### 本章小节
