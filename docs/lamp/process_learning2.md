# 进程学习2

## 中断与信号

### 一. 什么是中断？
#### 1. 中断的基本概念
  中断是指计算机在执行期间，系统内发生任何非寻常的或非预期的急需处理事件，使得CPU暂时中断当前执行的程序而转去执行相应的事件处理程序，待处理完毕后又返回原来被中断处继续执行或调度新的进程执行的过程。引起中断发生的事件被称为中断源。 中断源向CPU发出的请求中断处理信号称为中断请求，而CPU收到中断请求后转到相应的事件处理程序称为中断响应。
  
  在有些情况下，尽管产生了中断源和发出了中断请求，但CPU内部的处理器状态字段PSW的中断允许位已经被清除，从而不允许CPU响应中断。这种情况称为禁止中断。CPU禁止中断后只有等到PSW的中断允许位被重新设置后才能接收中断。禁止中断也称为关中断，PSW的中断位的设置也称为开中断。开中断和关中断是为了保证某些程序执行的原子性。
  
  还有一个比较常用的概念是中断屏蔽。 中断屏蔽是指在中断请求产生后，系统有选择的封锁一部分中断而允许另一部分中断能得到响应。 不过，有些中断请求是不能屏蔽甚至不能禁止的，也就是说，这些中断具有最高优先级，只要这些中断请求一旦提出，CPU必须立即响应。 例如，电源掉电事件所引起的中断就是不可禁止和不可屏蔽的。
  
#### 2. 中断的分类与优先级
  根据系统对中断处理的需要，操作系统一般对中断进行分类并对不同的中断赋予不同的处理优先级， 以便在不同的中断同时发生时，按轻重缓急进行处理。
  
  根据中断源产生的条件，可把中断分为外中断和内中断。外中断是指来自处理器和内存外部的中断，包括I/O设备发出的I/O中断、外部信号中断(例如用户键入ESC键)。各种定时器引起的时钟中断以及调试程序设置的断点等引起的调试中断等。 外中断在狭义上一般被称为中断。
  
  内中断主要指在处理器和内存内部产生的中断。内中断一般被称为陷进(trap)或异常。 它包括程序运行引起的各种错误，如地址非法、校验错、页面实效、存取访问控制错、算术操作溢出、数据格式非法、除数为0、非法指令、用户程序执行特权指令、分时系统中的时间片中断以及从用户态到核心态的切换等都是陷阱的例子。
  
  为了按中断源的轻重缓急处理响应中断，操作系统为了不同的中断赋予不同的优先级。例如在UNIX系统中， 外中断和陷阱的优先级共分为8级。为了禁止中断或屏蔽中断，CPU的处理器状态字段PSW中也设有相应的优先级。如果中断源的优先级高于PSW的优先级，则CPU响应该中断源的请求；反之，CPU屏蔽该中断源的中断请求。
#### 3. 软中断
#### 4. 中断处理过程
#### 5. 设备管理程序与中断方式

### 二. 什么是信号？
#### 1. 信号及信号来源
#### 2. 信号的种类
#### 3. 进程对信号的响应
  
